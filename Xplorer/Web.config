<?xml version="1.0"?>
<configuration>
  <configSections>
    <section name="unity" type="Microsoft.Practices.Unity.Configuration.UnityConfigurationSection, Microsoft.Practices.Unity.Configuration"/>
  </configSections>
  <connectionStrings>
    <add name="FileManagerDB" connectionString="Data Source=.;Initial Catalog=dFileManager;Persist Security Info=True;User ID=xmlwebsvc;Password=cvsbewlmx"
      providerName="System.Data.SqlClient" />
  </connectionStrings>
  <unity>
    <typeAliases>
      <typeAlias alias="singleton" type="Microsoft.Practices.Unity.ContainerControlledLifetimeManager, Microsoft.Practices.Unity" />
      <typeAlias alias="IFileSystemRepository" type="Xplorer.Core.Repository.IFileSystemRepository, Xplorer.Core, Version=1.0.0.0, Culture=neutral" />
      <typeAlias alias="FileSystemRepository" type="Xplorer.Core.Repository.FileSystemRepository, Xplorer.Core, Version=1.0.0.0, Culture=neutral" />
      <typeAlias alias="DFSRepository" type="Xplorer.Core.Repository.DbFileSystemRepository, Xplorer.Core, Version=1.0.0.0, Culture=neutral" />
      <typeAlias alias="CacheFileSystem" type="Xplorer.Core.Repository.CacheFileSystem, Xplorer.Core, Version=1.0.0.0, Culture=neutral"/>
    </typeAliases>
    <containers>
      <container name="root">
        <types>
          <!-- Use this for FileSystem Mode -->
          <!--<type type="IFileSystemRepository" mapTo="CacheFileSystem">
            <lifetime type="singleton"/>
          </type>
          <type type="IFileSystemRepository" mapTo="FileSystemRepository" name="Base">
            <lifetime type="singleton"/>
          </type>-->

          <!-- Use this for Database Mode -->
          <type type="IFileSystemRepository" mapTo="CacheFileSystem">
            <lifetime type="singleton"/>
          </type>
          <type type="IFileSystemRepository" mapTo="DFSRepository" name="Base">
            <lifetime type="singleton"/>
          </type>
        </types>
      </container>
    </containers>
  </unity>
  <appSettings>
    <!-- FileSystem Mode DatabaseFileSystem or WindowsFileSystem -->
    <add key="FileSystem" value="DatabaseFileSystem" />
    <!-- FileSystemRootPath Uploads\sa\ThemeName 		-->
    <add key="FileSystemRootPath" value="Xplorer" />
  </appSettings>
  <system.web>
    <compilation debug="true" targetFramework="4.0" batch="false">
      <assemblies>
        <add assembly="System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
        <add assembly="System.Configuration, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"/>
        <add assembly="System.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"/>
        <add assembly="System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
        <add assembly="System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
        <add assembly="System.Web.Abstractions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/>
        <add assembly="System.Web.Routing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/>
        <add assembly="System.Data.DataSetExtensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
        <add assembly="System.Xml.Linq, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
        <add assembly="System.Data.Linq, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
        <add assembly="System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"/>
      </assemblies>
    </compilation>
    <customErrors mode="Off"/>
    <sessionState mode="InProc"  compressionEnabled="true" timeout="60"/>
    <pages theme="" maintainScrollPositionOnPostBack="true" controlRenderingCompatibilityVersion="3.5" clientIDMode="AutoID">
      <controls>
        <add tagPrefix="asp" namespace="System.Web.UI" assembly="System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/>
        <add tagPrefix="asp" namespace="System.Web.UI.WebControls" assembly="System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/>
      </controls>
    </pages>
    <httpHandlers>
      <remove verb="*" path="*.asmx"/>
      <add verb="*" path="*.asmx" validate="false" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/>
      <add verb="*" path="*_AppService.axd" validate="false" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/>
      <add verb="GET,HEAD" path="ScriptResource.axd" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" validate="false"/>
    </httpHandlers>
    <httpModules>
      <add name="RoutingModule" type="System.Web.Routing.UrlRoutingModule, System.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"/>
      <add name="ScriptModule" type="System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/>
    </httpModules>
    <webServices>
      <protocols>
        <add name="HttpPost"/>
        <add name="HttpGet"/>
      </protocols>
    </webServices>
    <httpCookies requireSSL="false"/>
    <globalization fileEncoding="utf-8" requestEncoding="utf-8" responseEncoding="utf-8" culture="en-US" uiCulture="en-US"/>
    <httpRuntime executionTimeout="240" maxRequestLength="102400" requestValidationMode="2.0"/>
    <machineKey validation="SHA1"/>
  </system.web>

  <system.transactions>
    <defaultSettings timeout="02:00:00"/>
  </system.transactions>
  <system.codedom>
    <compilers>
      <compiler language="c#;cs;csharp" extension=".cs" warningLevel="4" type="Microsoft.CSharp.CSharpCodeProvider, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
        <providerOption name="CompilerVersion" value="v4.0"/>
        <providerOption name="WarnAsError" value="false"/>
      </compiler>
    </compilers>
  </system.codedom>
  <system.webServer>
    <!-- Use this as reference for Caching of Static Files http://www.iis.net/ConfigReference/system.webServer/staticContent/clientCache -->
    <staticContent>
      <clientCache cacheControlMode="UseMaxAge" cacheControlMaxAge="365.00:00:00" httpExpires=""/>
    </staticContent>
    <urlCompression doDynamicCompression="true" doStaticCompression="true" dynamicCompressionBeforeCache="true"/>
    <httpCompression directory="%SystemDrive%\inetpub\temp\IIS Temporary Compressed Files">
      <scheme name="gzip" dll="%Windir%\system32\inetsrv\gzip.dll" doDynamicCompression="true" doStaticCompression="true" dynamicCompressionLevel="7" staticCompressionLevel="7"/>
      <dynamicTypes>
        <clear/>
        <add mimeType="text/*" enabled="true"/>
        <add mimeType="message/*" enabled="true"/>
        <add mimeType="application/*" enabled="true"/>
        <add mimeType="application/json; charset=utf-8" enabled="true"/>
        <add mimeType="*/*" enabled="false"/>
      </dynamicTypes>
      <staticTypes>
        <clear/>
        <add mimeType="text/*" enabled="true"/>
        <add mimeType="message/*" enabled="true"/>
        <add mimeType="application/*" enabled="true"/>
        <add mimeType="application/json; charset=utf-8" enabled="true"/>
        <add mimeType="*/*" enabled="false"/>
      </staticTypes>
    </httpCompression>
    <caching enabled="true">
      <profiles>
        <add extension=".js" policy="CacheUntilChange" location="Client" kernelCachePolicy="DontCache"/>
        <add extension=".jpg" policy="CacheUntilChange" location="Client" kernelCachePolicy="DontCache"/>
        <add extension=".jpeg" policy="CacheUntilChange" location="Client" kernelCachePolicy="DontCache"/>
        <add extension=".png" policy="CacheUntilChange" location="Client" kernelCachePolicy="DontCache"/>
        <add extension=".gif" policy="CacheUntilChange" location="Client" kernelCachePolicy="DontCache"/>
      </profiles>
    </caching>
    <defaultDocument>
      <files>
        <add value="Explorer.aspx"/>
      </files>
    </defaultDocument>
    <handlers>
      <!-- For Classic Mode uncomment below lines -->

      <!--32 bit Classic Mode-->
      <!--<add name="SVC-32" path="*.svc" verb="*" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework\v4.0.30319\aspnet_isapi.dll" resourceType="Unspecified" preCondition="bitness32;ISAPIMode;runtimeVersionv4.0"/>
      <add name="MVC-32" path="*" verb="*" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework\v4.0.30319\aspnet_isapi.dll" resourceType="Unspecified" requireAccess="None" preCondition="bitness32;ISAPIMode;runtimeVersionv4.0"/>
      -->
      <!--64 bit Classic Mode-->
      <!--<add name="SVC-64" path="*.svc" verb="*" modules="" scriptProcessor="%windir%\Microsoft.NET\Framework64\v4.0.30319\aspnet_isapi.dll" resourceType="Unspecified" preCondition="bitness64;ISAPIMode;runtimeVersionv4.0"/>
      <add name="MVC-64" path="*" verb="*" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework64\v4.0.30319\aspnet_isapi.dll" resourceType="Unspecified" requireAccess="None" preCondition="bitness64;ISAPIMode;runtimeVersionv4.0"/>
      -->
    </handlers>
    <validation validateIntegratedModeConfiguration="false"/>
    <modules runAllManagedModulesForAllRequests="true">
      <remove name="RoutingModule"/>
      <remove name="ScriptModule"/>
      <remove name="PageSecureModule"/>
      <add name="RoutingModule" type="System.Web.Routing.UrlRoutingModule, System.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"/>
      <add name="ScriptModule" preCondition="managedHandler" type="System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/>
    </modules>

  </system.webServer>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <probing privatePath="bin;DynamicAssemblies"/>
    </assemblyBinding>
  </runtime>

  <system.web.extensions>
    <scripting>
      <scriptResourceHandler enableCompression="true" enableCaching="true"/>
      <webServices>
        <jsonSerialization maxJsonLength="999999999"/>
      </webServices>
    </scripting>
  </system.web.extensions>
</configuration>